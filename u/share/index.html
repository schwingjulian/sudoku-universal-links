<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-itunes-app" content="app-id=6745489365, app-argument=https://sudoku-universal-links.pages.dev/u/share">
  <title>You've Been Challenged! Beat the Sudoku Highscore</title>
  <meta name="description" content="Can you beat the Sudoku challenge? Try to beat the shared highscore now! Play Sudoku with daily puzzles, leaderboards, and global challenges.">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #f9fafb; }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const urlParams = new URLSearchParams(window.location.search);
      const time = urlParams.get('time');
      const errors = urlParams.get('errors');
      const difficulty = urlParams.get('difficulty');

      function formatTime(seconds) {
        if (!seconds) return "-";
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }

      function formatDifficulty(diff) {
        switch (diff) {
          case "easy": return "Easy";
          case "medium": return "Medium";
          case "hard": return "Hard";
          case "extreme": return "Extreme";
          default: return "-";
        }
      }

      document.getElementById("timeValue").innerText = formatTime(parseInt(time));
      document.getElementById("errorsValue").innerText = errors ?? "-";
      document.getElementById("levelValue").innerText = formatDifficulty(difficulty);
    });
  </script>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="max-w-md text-center p-6 bg-white rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">You've been challenged!</h1>
    <p class="text-gray-600 mb-4">Can you beat this Sudoku highscore?</p>

    <div class="bg-gray-100 rounded-lg p-4 mb-6">
      <p class="text-gray-700"><strong>Level:</strong> <span id="levelValue">-</span></p>
      <p class="text-gray-700"><strong>Time:</strong> <span id="timeValue">-</span></p>
      <p class="text-gray-700"><strong>Errors:</strong> <span id="errorsValue">-</span></p>
    </div>

    <a href="https://apps.apple.com/app/id6745489365" class="inline-block bg-blue-600 text-white text-lg font-semibold px-6 py-3 rounded-lg shadow hover:bg-blue-700 transition">Accept the Challenge</a>

    <div class="mt-8 text-sm text-gray-500">
      Solve daily Sudoku puzzles, share your scores, and climb the leaderboards.
    </div>
  </div>
</body>
</html>
